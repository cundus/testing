{"version":3,"sources":["components/dataTable/index.js","components/index.js","pages/planning/create-kpi/components/create-own.js","pages/planning/create-kpi/components/cascade-partner.js","pages/planning/create-kpi/components/cascade-previous.js","pages/planning/create-kpi/index.js"],"names":["TextArea","Input","EditableContext","React","createContext","EditableFormRow","Form","create","form","props","index","Provider","value","EditableCell","change","e","record","handleChange","validateFields","error","values","renderCell","editable","dataIndex","placeholder","type","title","Item","style","margin","getFieldDecorator","rules","required","message","initialValue","id","className","ref","node","input","onChange","disabled","autoSize","minRows","maxRows","this","children","action","restProps","Consumer","Component","DataTable","dataSource","columns","isDesktopOrLaptop","useMediaQuery","minDeviceWidth","components","body","row","cell","columnList","map","col","onCell","rowClassName","bordered","scroll","x","pagination","marginBottom","CreateOwn","render","text","dataOwn","length","onConfirm","handleDeleteRow","key","placement","handleAddRow","handleChangeField","handleSaveDraft","textAlign","onClick","CascadePartner","checkStatus","dataSelectedCascade","filter","item","dataCascadePartner","handleSelectData","checked","CascadePrevious","dataCascadePrevious","Title","Typography","Text","TabPane","Tabs","confirm","Modal","CreateKPI","history","onOk","push","onCancel","state","setState","dataOwnId","newData","kpi","baseline","weight","l1","l2","l3","data","findIndex","splice","typeKpi","cascadePrevious","name","kpiReducers","dataGoal","strong","level","defaultActiveKey","tab","connectToComponent","connect","dispatch","doSavingDraft","doSaveDraft","withRouter"],"mappings":"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","file":"static/js/11.e74fe43e.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Input, InputNumber, Form } from 'antd';\nimport { useMediaQuery } from 'react-responsive';\n\nconst { TextArea } = Input;\n\nconst EditableContext = React.createContext();\n\nconst EditableRow = ({ form, index, ...props }) => (\n  <EditableContext.Provider value={form}>\n    <tr {...props} />\n  </EditableContext.Provider>\n);\n\nconst EditableFormRow = Form.create()(EditableRow);\n\nclass EditableCell extends React.Component {\n  change = (e) => {\n    const { record, handleChange } = this.props;\n    this.form.validateFields((error, values) => {\n      handleChange({ ...record, ...values });\n    });\n  };\n\n  renderCell = (form) => {\n    this.form = form;\n    const {\n      editable,\n      dataIndex,\n      record,\n      placeholder,\n      type,\n      title\n    } = this.props;\n\n    return (\n      <Form.Item style={{ margin: 0 }}>\n        {form.getFieldDecorator(dataIndex, {\n          rules: [\n            {\n              required: true,\n              message: `${title} is required`\n            }\n          ],\n          initialValue: record[dataIndex]\n        })(\n          type === 'number' ? (\n            <InputNumber\n              id={title}\n              className=\"input\"\n              ref={(node) => (this.input = node)}\n              placeholder={placeholder}\n              type={type}\n              onChange={this.change}\n              disabled={!editable}\n            />\n          ) : (\n            <TextArea\n              id={title}\n              className=\"input\"\n              ref={(node) => (this.input = node)}\n              placeholder={placeholder}\n              autoSize={{ minRows: 3, maxRows: 5 }}\n              onChange={this.change}\n              disabled={!editable}\n            />\n          )\n        )}\n      </Form.Item>\n    );\n  };\n\n  render() {\n    const {\n      editable,\n      dataIndex,\n      title,\n      record,\n      index,\n      handleChange,\n      children,\n      action,\n      ...restProps\n    } = this.props;\n\n    return (\n      <td {...restProps}>\n        {action ? (\n          children\n        ) : (\n          <EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\n        )}\n      </td>\n    );\n  }\n}\n\nconst DataTable = (props) => {\n  const { dataSource, handleChange, columns } = props;\n\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 });\n\n  const components = {\n    body: {\n      row: EditableFormRow,\n      cell: EditableCell\n    }\n  };\n  const columnList = columns.map((col) => {\n    return {\n      ...col,\n      onCell: (record) => ({\n        record,\n        editable: col.editable,\n        dataIndex: col.dataIndex,\n        title: col.title,\n        type: col.type,\n        action: col.action,\n        placeholder: col.placeholder,\n        handleChange\n      })\n    };\n  });\n  return (\n    <div>\n      <Table\n        components={components}\n        rowClassName={() => 'editable-row'}\n        bordered\n        dataSource={dataSource}\n        columns={columnList}\n        scroll={isDesktopOrLaptop ? { x: false } : { x: true }}\n        pagination={false}\n        style={{ marginBottom: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default DataTable;\n","export { default as DataTable } from './dataTable';\nexport { default as LazyLoad } from './lazyLoad';\n","import React, { Component } from 'react';\nimport {\n  Button,\n  Popconfirm,\n  Tooltip,\n  Icon\n} from 'antd';\nimport { DataTable } from '../../../../components';\n\nclass CreateOwn extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: 'KPI Subject',\n        dataIndex: 'description',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: '2019 Baseline',\n        dataIndex: 'baseline',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: 'Weight (%)',\n        dataIndex: 'weight',\n        placeholder: 'Enter KPI Weight',\n        type: 'number',\n        editable: true\n      },\n      {\n        title: 'L1',\n        dataIndex: 'L1',\n        placeholder: 'Enter Level 1',\n        editable: true\n      },\n      {\n        title: 'L2',\n        dataIndex: 'L2',\n        placeholder: 'Enter Level 2',\n        editable: true\n      },\n      {\n        title: 'L3',\n        dataIndex: 'L3',\n        placeholder: 'Enter Level 3',\n        editable: true\n      },\n      {\n        title: '',\n        dataIndex: 'action',\n        action: true,\n        render: (text, record) =>\n          this.props.dataOwn.length >= 1 ? (\n            <Popconfirm\n              title=\"Sure to delete?\"\n              onConfirm={() => this.props.handleDeleteRow(record.key)}\n            >\n              <Tooltip placement=\"bottomRight\" title={'delete'}>\n                <Button>\n                  <Icon type=\"delete\" />\n                </Button>\n              </Tooltip>\n            </Popconfirm>\n          ) : null\n      }\n    ];\n  }\n\n  render() {\n    const { columns } = this;\n    const {\n      dataOwn,\n      handleAddRow,\n      handleChangeField,\n      handleSaveDraft\n    } = this.props;\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataOwn}\n          handleChange={handleChangeField}\n        />\n        <div style={{ textAlign: 'center' }}>\n          <Button onClick={handleAddRow} style={{ margin: 10 }}>\n            Add a row\n          </Button>\n          <Button onClick={handleSaveDraft} type=\"primary\" style={{ margin: 10 }}>\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CreateOwn;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"../../../../components\";\nimport { Button, Checkbox } from \"antd\";\n\nclass CascadePartner extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: 'Cascading/Self KPI',\n        dataIndex: 'typeKpi',\n        placeholder: 'Cascading/Self KPI',\n        editable: false\n      },\n      {\n        title: 'KPI Subject',\n        dataIndex: 'description',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: '2019 Baseline',\n        dataIndex: 'baseline',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: 'Weight (%)',\n        dataIndex: 'weight',\n        placeholder: 'Enter KPI Weight',\n        type: 'number',\n        editable: true\n      },\n      {\n        title: 'L1',\n        dataIndex: 'L1',\n        placeholder: 'Enter Level 1',\n        editable: true\n      },\n      {\n        title: 'L2',\n        dataIndex: 'L2',\n        placeholder: 'Enter Level 2',\n        editable: true\n      },\n      {\n        title: 'L3',\n        dataIndex: 'L3',\n        placeholder: 'Enter Level 3',\n        editable: true\n      },\n      {\n        title: \"\",\n        dataIndex: \"action\",\n        action: true,\n        render: (text, record) =>\n          this.props.dataCascadePartner.length >= 1 ? (\n            <Checkbox\n              onChange={e => this.props.handleSelectData(record)}\n              checked={this.checkStatus(record)}\n            />\n          ) : null\n      }\n    ];\n  }\n\n  checkStatus = record => {\n    const { dataSelectedCascade } = this.props;\n    const dataChecking = dataSelectedCascade.filter(item => item.key === record.key);\n    if (dataChecking.length !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  render() {\n    const { dataCascadePartner, handleSaveDraft } = this.props;\n    const { columns } = this;\n\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataCascadePartner}\n        />\n        <div style={{ textAlign: \"center\" }}>\n          <Button\n            type=\"primary\"\n            onClick={handleSaveDraft}\n            style={{ margin: 10 }}\n          >\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CascadePartner;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"../../../../components\";\nimport { Button, Checkbox } from \"antd\";\n\nclass CascadePrevious extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: 'Cascading/Self KPI',\n        dataIndex: 'typeKpi',\n        placeholder: 'Cascading/Self KPI',\n        editable: false\n      },\n      {\n        title: 'KPI Subject',\n        dataIndex: 'description',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: '2019 Baseline',\n        dataIndex: 'baseline',\n        placeholder: 'Enter 2019 baseline',\n        editable: true\n      },\n      {\n        title: 'Weight (%)',\n        dataIndex: 'weight',\n        placeholder: 'Enter KPI Weight',\n        type: 'number',\n        editable: true\n      },\n      {\n        title: 'L1',\n        dataIndex: 'L1',\n        placeholder: 'Enter Level 1',\n        editable: true\n      },\n      {\n        title: 'L2',\n        dataIndex: 'L2',\n        placeholder: 'Enter Level 2',\n        editable: true\n      },\n      {\n        title: 'L3',\n        dataIndex: 'L3',\n        placeholder: 'Enter Level 3',\n        editable: true\n      },\n      {\n        title: \"\",\n        dataIndex: \"action\",\n        action: true,\n        render: (text, record) =>\n          this.props.dataCascadePrevious.length >= 1 ? (\n            <Checkbox\n              onChange={e => this.props.handleSelectData(record)}\n              checked={this.checkStatus(record)}\n            />\n          ) : null\n      }\n    ];\n  }\n\n  checkStatus = record => {\n    const { dataSelectedCascade } = this.props;\n    const dataChecking = dataSelectedCascade.filter(item => item.key === record.key);\n    if (dataChecking.length !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  render() {\n    const { dataCascadePrevious, handleSaveDraft } = this.props;\n    const { columns } = this;\n\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataCascadePrevious}\n        />\n        <div style={{ textAlign: \"center\" }}>\n          <Button\n            type=\"primary\"\n            onClick={handleSaveDraft}\n            style={{ margin: 10 }}\n          >\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CascadePrevious;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Tabs,\n  Modal,\n  Typography,\n  Divider\n} from 'antd';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { doSaveDraft } from '../../../redux/actions/kpi';\nimport CreateOwn from './components/create-own';\nimport CascadePartner from './components/cascade-partner';\nimport CascadePrevious from './components/cascade-previous';\n\nconst { Title, Text } = Typography;\nconst { TabPane } = Tabs;\nconst { confirm } = Modal;\n\nclass CreateKPI extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataOwn: [\n        {\n          key: 1,\n          typeKpi: 'Self KPI',\n          kpi: '',\n          baseline: '',\n          weight: '',\n          l1: '',\n          l2: '',\n          l3: ''\n        }\n      ],\n      dataOwnId: 2,\n      cascadePrevious: false,\n      dataCascadePartner: [],\n      dataCascadePrevious: [],\n      dataSelectedCascade: []\n    };\n  }\n\n  handleSaveDraft = () => {\n    const { history /* , doSavingDraft */ } = this.props;\n    // const { dataOwn, dataSelectedCascade } = this.state;\n    // const dataSaving = dataOwn.concat(dataSelectedCascade);\n    confirm({\n      title: 'Are u sure?',\n      async onOk() {\n        // await doSavingDraft(dataSaving);\n        history.push('/planning/kpi/draft-planning');\n      },\n      onCancel() {}\n    });\n  };\n\n  handleSelectData = (record) => {\n    const { dataSelectedCascade } = this.state;\n    const dataChecking = dataSelectedCascade.filter(\n      (item) => item.key === record.key\n    );\n    if (dataChecking.length !== 0) {\n      this.setState({\n        dataSelectedCascade: dataSelectedCascade.filter(\n          (item) => item.key !== record.key\n        )\n      });\n    } else {\n      this.setState({\n        dataSelectedCascade: [...dataSelectedCascade, record]\n      });\n    }\n  };\n\n  handleAddRow = () => {\n    const { dataOwnId, dataOwn } = this.state;\n    const newData = {\n      key: dataOwnId,\n      kpi: '',\n      baseline: '',\n      weight: '',\n      l1: '',\n      l2: '',\n      l3: ''\n    };\n    this.setState({\n      dataOwn: [...dataOwn, newData],\n      dataOwnId: dataOwnId + 1\n    });\n  };\n\n  handleDeleteRow = (key) => {\n    const { dataOwn } = this.state;\n    const data = [...dataOwn];\n    this.setState({ dataOwn: data.filter((item) => item.key !== key) });\n  };\n\n  handleChangeField = (row) => {\n    const { dataOwn } = this.state;\n    const newData = [...dataOwn];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      ...row\n    });\n    this.setState({ dataOwn: newData });\n  };\n\n  render() {\n    const {\n      cascadePrevious,\n      dataOwn,\n      dataCascadePrevious,\n      dataCascadePartner,\n      dataSelectedCascade\n    } = this.state;\n    const {\n      handleAddRow,\n      handleChangeField,\n      handleDeleteRow,\n      handleSaveDraft,\n      handleSelectData\n    } = this;\n    const { kpiReducers } = this.props;\n    const { dataGoal } = kpiReducers;\n    const { name } = dataGoal;\n    return (\n      <div>\n        <div>\n          <Divider />\n          <Text strong>Create New KPI </Text>\n          <Text>\n            {`Please complete the following form. You can create your own KPI or\n            cascade from your Superior's KPI.`}\n          </Text>\n          <Divider />\n        </div>\n        <div style={{ textAlign: 'center' }}>\n          <Title level={4}>{`Performance Management - ${name}`}</Title>\n        </div>\n        <Tabs defaultActiveKey=\"1\" type=\"card\">\n          <TabPane tab=\"Creat Own KPI\" key=\"1\">\n            <CreateOwn\n              dataOwn={dataOwn}\n              handleSaveDraft={handleSaveDraft}\n              handleAddRow={handleAddRow}\n              handleChangeField={handleChangeField}\n              handleDeleteRow={handleDeleteRow}\n            />\n          </TabPane>\n          <TabPane tab=\"Cascade From Supervisor\" key=\"2\">\n            <CascadePartner\n              dataCascadePartner={dataCascadePartner}\n              dataSelectedCascade={dataSelectedCascade}\n              handleSaveDraft={handleSaveDraft}\n              handleSelectData={handleSelectData}\n            />\n          </TabPane>\n          {cascadePrevious && (\n            <TabPane tab=\"Cascade From Previous Year\" key=\"3\">\n              <CascadePrevious\n                dataCascadePrevious={dataCascadePrevious}\n                dataSelectedCascade={dataSelectedCascade}\n                handleSaveDraft={handleSaveDraft}\n                handleSelectData={handleSelectData}\n              />\n            </TabPane>\n          )}\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  kpiReducers: state.kpiReducers\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  doSavingDraft: (data) => dispatch(doSaveDraft(data))\n});\n\nconst connectToComponent = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CreateKPI);\n\nexport default withRouter(connectToComponent);\n\nCreateKPI.propTypes = {\n  // doSavingDraft: PropTypes.func,\n  kpiReducers: PropTypes.instanceOf(Object).isRequired,\n  history: PropTypes.instanceOf(Object).isRequired\n};\n"],"sourceRoot":""}
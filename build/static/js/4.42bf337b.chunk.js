(this["webpackJsonpaxiata-portal"]=this["webpackJsonpaxiata-portal"]||[]).push([[4],{298:function(e,t,n){"use strict";var r=n(78),a=n(39),o=n(40),i=n(42),c=n(41),l=n(43),u=n(303),s=n(0),p=n.n(s),f=n(463),d=n(459),b=n(460),m=n(457),h=(n(178),n(301),n(125));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=f.a.TextArea,g=p.a.createContext(),j=d.a.create()((function(e){var t=e.form,n=(e.index,Object(u.a)(e,["form","index"]));return p.a.createElement(g.Provider,{value:t},p.a.createElement("tr",n))})),S=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).change=function(e){var t=n.props,r=t.record,a=t.handleChange;n.form.validateFields((function(e,t){a(v({},r,{},t))}))},n.renderCell=function(e){n.form=e;var t=n.props,r=t.editable,a=t.dataIndex,o=t.record,i=t.placeholder,c=t.type,l=t.title;return p.a.createElement(d.a.Item,{style:{margin:0}},e.getFieldDecorator(a,{rules:[{required:!0,message:"".concat(l," is required")}],initialValue:o[a]})("number"===c?p.a.createElement(b.a,{id:l,className:"input",ref:function(e){return n.input=e},placeholder:i,type:c,onChange:n.change,disabled:!r}):p.a.createElement(O,{id:l,className:"input",ref:function(e){return n.input=e},placeholder:i,autoSize:{minRows:3,maxRows:5},onChange:n.change,disabled:!r})))},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.editable,e.dataIndex,e.title,e.record,e.index,e.handleChange,e.children),n=e.action,r=Object(u.a)(e,["editable","dataIndex","title","record","index","handleChange","children","action"]);return p.a.createElement("td",r,n?t:p.a.createElement(g.Consumer,null,this.renderCell))}}]),t}(p.a.Component);t.a=function(e){var t=e.dataSource,n=e.handleChange,r=e.columns,a=Object(h.useMediaQuery)({minDeviceWidth:1224}),o={body:{row:j,cell:S}},i=r.map((function(e){return v({},e,{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,type:e.type,action:e.action,placeholder:e.placeholder,handleChange:n}}})}));return p.a.createElement("div",null,p.a.createElement(m.a,{components:o,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:i,scroll:a?{x:!1}:{x:!0},pagination:!1,style:{marginBottom:10}}))}},300:function(e,t,n){"use strict";var r=n(298);n.d(t,"a",(function(){return r.a}));n(28)},301:function(e,t,n){},302:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(18),a=n.n(r),o=n(35),i=n(32),c=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.a,loading:!0,isDraftSaved:!1,draftData:e});try{e&&n({type:i.c,isDraftSaved:!0,loading:!1,draftData:e,errorMessage:{}})}catch(r){n({type:i.b,isDraftSaved:!1,loading:!1,draftData:[],errorMessage:{}})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},455:function(e,t,n){"use strict";var r=n(0),a=n(11),o=n(75),i=n(7),c=n(70),l=n(29),u=n(74),s=n(26);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e){function t(e){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=b(t).call(this,e),(n=!i||"object"!==p(i)&&"function"!==typeof i?m(a):i).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(m(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(m(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,o=a.okButtonProps,i=a.cancelButtonProps,l=a.title,u=a.cancelText,s=a.okText,p=a.okType,d=a.icon;return r.createElement("div",null,r.createElement("div",{className:"".concat(e,"-inner-content")},r.createElement("div",{className:"".concat(e,"-message")},d,r.createElement("div",{className:"".concat(e,"-message-title")},l)),r.createElement("div",{className:"".concat(e,"-buttons")},r.createElement(c.a,f({onClick:n.onCancel,size:"small"},i),u||t.cancelText),r.createElement(c.a,f({onClick:n.onConfirm,type:p,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,i=a.prefixCls,c=a.placement,s=y(a,["prefixCls","placement"]),p=t("popover",i),d=r.createElement(l.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},(function(e){return n.renderOverlay(p,e)}));return r.createElement(o.a,f({},s,{prefixCls:p,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:d,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var r=n.onVisibleChange;r&&r(e,t)}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderConfirm)}}])&&d(n.prototype,a),i&&d(n,i),t}(r.Component);v.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:r.createElement(i.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(a.polyfill)(v),t.a=v},464:function(e,t,n){"use strict";n.r(t);var r=n(78),a=n(302),o=n(18),i=n.n(o),c=n(35),l=n(39),u=n(40),s=n(42),p=n(41),f=n(43),d=n(0),b=n.n(d),m=n(294),h=n(70),y=n(31),v=n(48),O=n(455),g=n(300),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Cascading/Self KPI",dataIndex:"typeKpi",placeholder:"Cascading/Self KPI",editable:!1},{title:"KPI Subject",dataIndex:"kpi",placeholder:"Enter 2020 baseline",editable:!0},{title:"2019 Baseline",dataIndex:"baseline",placeholder:"Enter 2019 baseline",editable:!0},{title:"Weight (100%)",dataIndex:"weight",placeholder:"Enter KPI Weight",type:"number",editable:!0},{title:"L1",dataIndex:"l1",placeholder:"Enter Level 1",editable:!0},{title:"L2",dataIndex:"l2",placeholder:"Enter Level 2",editable:!0},{title:"L3",dataIndex:"l3",placeholder:"Enter Level 3",editable:!0},{title:"operation",dataIndex:"operation",action:!0,render:function(e,t){return n.props.dataSource.length>=1?b.a.createElement(O.a,{title:"Sure to delete?",onConfirm:function(){return n.props.handleDelete(t.key)}},b.a.createElement(h.a,null,"Delete")):null}}],n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.columns,t=this.props,n=t.handleChange,r=t.dataSource;return b.a.createElement("div",null,b.a.createElement(g.a,{columns:e,dataSource:r,handleChange:n}))}}]),t}(d.Component),S=n(311);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=m.a.confirm,x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).getAllData=function(){var e=n.props.draft;n.setState({dataSource:e.draftData})},n.handleSubmit=function(){var e=n.props,t=e.history,r=e.doSavingDraft,a=n.state.dataSource;E({title:"Are u sure?",onOk:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(a);case 2:t.push("/planning/kpi/submit-planning");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}})},n.handleChange=function(e){var t=Object(a.a)(n.state.dataSource),o=t.findIndex((function(t){return e.key===t.key})),i=t[o];t.splice(o,1,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{},e)),n.setState({dataSource:t})},n.handleDelete=function(e){var t=Object(a.a)(n.state.dataSource);n.setState({dataSource:t.filter((function(t){return t.key!==e}))})},n.state={dataSource:[]},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllData()}},{key:"render",value:function(){var e=this.state.dataSource,t=this.handleChange,n=this.handleDelete,r=this.handleSubmit;return b.a.createElement("div",null,b.a.createElement(j,{dataSource:e,handleChange:t,handleDelete:n}),b.a.createElement("div",{style:{textAlign:"center"}},b.a.createElement(h.a,{onClick:r,type:"primary",style:{margin:10}},"Submit To Superior")))}}]),t}(d.Component),w=Object(v.b)((function(e){return{draft:e.draft}}),(function(e){return{doSavingDraft:function(t){return e(Object(S.a)(t))}}}))(x);t.default=Object(y.g)(w)}}]);
//# sourceMappingURL=4.42bf337b.chunk.js.map
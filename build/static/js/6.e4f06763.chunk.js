(this["webpackJsonpaxiata-portal"]=this["webpackJsonpaxiata-portal"]||[]).push([[6],{300:function(e,t,r){"use strict";var a=r(47),n=r(42),c=r(43),i=r(45),l=r(44),o=r(46),s=r(304),u=r(0),p=r.n(u),d=r(464),h=r(460),f=r(462),m=r(458),b=r(80);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=d.a.TextArea,v=p.a.createContext(),j=h.a.create()((function(e){var t=e.form,r=(e.index,Object(s.a)(e,["form","index"]));return p.a.createElement(v.Provider,{value:t},p.a.createElement("tr",r))})),E=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).change=function(e){var t=r.props,a=t.record,n=t.handleChange;r.form.validateFields((function(e,t){n(y({},a,{},t))}))},r.renderCell=function(e){r.form=e;var t=r.props,a=t.editable,n=t.dataIndex,c=t.record,i=t.placeholder,l=t.type,o=t.title;return p.a.createElement(h.a.Item,{style:{margin:0}},e.getFieldDecorator(n,{rules:[{required:!0,message:"".concat(o," is required")}],initialValue:c[n]})("number"===l?p.a.createElement(f.a,{id:o,className:"input",ref:function(e){return r.input=e},placeholder:i,type:l,onChange:r.change,disabled:!a}):p.a.createElement(g,{id:o,className:"input",ref:function(e){return r.input=e},placeholder:i,autoSize:{minRows:3,maxRows:5},onChange:r.change,disabled:!a})))},r}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.editable,e.dataIndex,e.title,e.record,e.index,e.handleChange,e.children),r=e.action,a=Object(s.a)(e,["editable","dataIndex","title","record","index","handleChange","children","action"]);return p.a.createElement("td",a,r?t:p.a.createElement(v.Consumer,null,this.renderCell))}}]),t}(p.a.Component);t.a=function(e){var t=e.dataSource,r=e.handleChange,a=e.columns,n=Object(b.useMediaQuery)({minDeviceWidth:1224}),c={body:{row:j,cell:E}},i=a.map((function(e){return y({},e,{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,type:e.type,action:e.action,placeholder:e.placeholder,handleChange:r}}})}));return p.a.createElement("div",null,p.a.createElement(m.a,{components:c,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:i,scroll:n?{x:!1}:{x:!0},pagination:!1,style:{marginBottom:10}}))}},302:function(e,t,r){"use strict";var a=r(300);r.d(t,"a",(function(){return a.a}));r(31)},303:function(e,t,r){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",(function(){return a}))},312:function(e,t,r){"use strict";var a=r(0),n=r(2),c=r.n(n),i=r(29);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};t.a=function(e){return a.createElement(i.a,null,(function(t){var r,n=t.getPrefixCls,i=e.prefixCls,u=e.type,p=void 0===u?"horizontal":u,d=e.orientation,h=void 0===d?"center":d,f=e.className,m=e.children,b=e.dashed,O=s(e,["prefixCls","type","orientation","className","children","dashed"]),y=n("divider",i),g=h.length>0?"-".concat(h):h,v=c()(f,y,"".concat(y,"-").concat(p),(o(r={},"".concat(y,"-with-text").concat(g),m),o(r,"".concat(y,"-dashed"),!!b),r));return a.createElement("div",l({className:v},O,{role:"separator"}),m&&a.createElement("span",{className:"".concat(y,"-inner-text")},m))}))}},468:function(e,t,r){"use strict";r.r(t);var a=r(6),n=r.n(a),c=r(14),i=r(47),l=r(303),o=r(42),s=r(43),u=r(45),p=r(44),d=r(46),h=r(0),f=r.n(h),m=r(32),b=r(35),O=r(464),y=r(295),g=r(312),v=r(72),j=r(289),E=r(131),x=r(116),w=r(302),P=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"KPI Subject",dataIndex:"description",placeholder:"Enter 2020 baseline"},{title:"2019 Baseline",dataIndex:"baseline",placeholder:"Enter 2019 baseline"},{title:"Weight (100%)",dataIndex:"weight",placeholder:"Enter KPI Weight",type:"number"},{title:"L1",dataIndex:"L1",placeholder:"Enter Level 1"},{title:"L2",dataIndex:"L2",placeholder:"Enter Level 2"},{title:"L3",dataIndex:"L3",placeholder:"Enter Level 3"},{title:"Feedback",dataIndex:"feedback",placeholder:"Feedback",editable:!0}],r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.dataSource,t=this.columns,r=this.props.handleChange;return f.a.createElement("div",null,f.a.createElement(w.a,{columns:t,dataSource:e,handleChange:r}))}}]),t}(h.Component);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=O.a.TextArea,C=y.a.Title,I=y.a.Text,N=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=Object(l.a)(r.state.dataSource),a=t.findIndex((function(t){return e.key===t.key})),n=t[a];t.splice(a,1,S({},n,{},e)),r.setState({dataSource:t})},r.state={dataSource:[]},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllData",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.props.getLatestGoalKpi();case 3:return e.next=5,this.props.getTeamDetailKPI(this.props.match.params.id);case 5:return e.next=7,this.props.getUserDetail(this.props.match.params.id);case 7:!0!==(r=this.props.myteamdetail)[0].error?(r.map((function(e){var r=e.metrics.map((function(e){return'{"'.concat(e.label,'":"').concat(e.description,'"}')}));r=(r=JSON.parse("[".concat(r.toString(),"]"))).reduce((function(e,t){return Object.assign(e,t)}),{});var a=S({key:e.id,description:e.description,baseline:e.baseline,weight:e.weight},r,{feedback:""});t.push(a)})),this.setState({dataSource:t})):this.setState({dataSource:[]});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return f.a.createElement("div",null,this.props.myteamdetail.length>0?f.a.createElement("div",null,Object.keys(this.props.userDetail).length>0&&!this.props.userDetail.error?f.a.createElement("div",null,f.a.createElement(g.a,null),f.a.createElement(I,{strong:!0},"View KPI "),f.a.createElement(I,null,"View KPI of ".concat(this.props.userDetail.firstName," ").concat(this.props.userDetail.lastName," ")),f.a.createElement(g.a,null)):f.a.createElement("div",null),Object.keys(this.props.userDetail).length>0&&!this.props.userDetail.error?f.a.createElement("div",{style:{textAlign:"center"}},f.a.createElement(C,{level:4},"Performance Management - ".concat(this.props.kpi.dataGoal.name," for ").concat(this.props.userDetail.firstName," ").concat(this.props.userDetail.lastName," "))):f.a.createElement("div",null),f.a.createElement(P,{dataSource:this.state.dataSource,handleChange:this.handleChange}),f.a.createElement("h3",null,f.a.createElement("b",null,"General feedbacks:")),f.a.createElement(k,{placeholder:"Please make necessary changes on KPI items, please refer to my KPI or just cascading it."}),f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement("center",null,f.a.createElement(v.a,{type:"primary"},"Save Feedbacks"))):f.a.createElement("center",null,f.a.createElement(j.a,null)))}}]),t}(h.Component),A=Object(m.b)((function(e){return{myteamdetail:e.myTeamDetailReducers,kpi:e.kpiReducers,userDetail:e.userDetailReducers}}),(function(e){return{getTeamDetailKPI:function(t){return e(Object(E.c)(t))},getLatestGoalKpi:function(){return e(Object(x.b)())},getUserDetail:function(t){return e(Object(E.d)(t))}}}))(N);t.default=Object(b.g)(A)}}]);
//# sourceMappingURL=6.e4f06763.chunk.js.map
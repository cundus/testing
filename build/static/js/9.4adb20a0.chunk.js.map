{"version":3,"sources":["components/dataTable/index.js","components/index.js","redux/actions/kpiPlanning.js","pages/planning/create-kpi/components/create-own.js","pages/planning/create-kpi/components/cascade-partner.js","pages/planning/create-kpi/components/cascade-previous.js","pages/planning/create-kpi/index.js"],"names":["TextArea","Input","EditableContext","React","createContext","EditableFormRow","Form","create","form","props","index","Provider","value","EditableCell","change","e","record","handleChange","validateFields","error","values","renderCell","editable","dataIndex","placeholder","type","title","Item","style","margin","getFieldDecorator","rules","required","message","initialValue","id","className","ref","node","input","onChange","disabled","autoSize","minRows","maxRows","this","children","action","restProps","Consumer","Component","DataTable","dataSource","columns","isDesktopOrLaptop","useMediaQuery","minDeviceWidth","components","body","row","cell","columnList","map","col","onCell","rowClassName","bordered","scroll","x","pagination","marginBottom","doSaveDraft","data","dispatch","a","SAVE_DRAFT","loading","isDraftSaved","draftData","SAVE_DRAFT_SUCCESS","errorMessage","err","SAVE_DRAFT_FAILED","CreateOwn","render","text","dataOwn","length","onConfirm","handleDeleteRow","key","placement","handleAddRow","handleChangeField","handleSaveDraft","textAlign","onClick","CascadePartner","checkStatus","dataSelectedCascade","filter","item","dataCascadePartner","handleSelectData","checked","CascadePrevious","dataCascadePrevious","TabPane","Tabs","confirm","Modal","CreateKPI","history","doSavingDraft","state","dataSaving","concat","onOk","push","onCancel","setState","dataOwnId","newData","kpi","baseline","weight","l1","l2","l3","findIndex","splice","typeKpi","cascadePrevious","defaultActiveKey","tab","connectToComponent","connect","draft","withRouter"],"mappings":"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","file":"static/js/9.4adb20a0.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Input, InputNumber, Form } from 'antd';\nimport 'antd/dist/antd.css';\nimport './dataTable-style.scss';\nimport { useMediaQuery } from 'react-responsive';\n\nconst { TextArea } = Input;\n\nconst EditableContext = React.createContext();\n\nconst EditableRow = ({ form, index, ...props }) => (\n  <EditableContext.Provider value={form}>\n    <tr {...props} />\n  </EditableContext.Provider>\n);\n\nconst EditableFormRow = Form.create()(EditableRow);\n\nclass EditableCell extends React.Component {\n  change = (e) => {\n    const { record, handleChange } = this.props;\n    this.form.validateFields((error, values) => {\n      handleChange({ ...record, ...values });\n    });\n  };\n\n  renderCell = (form) => {\n    this.form = form;\n    const {\n      editable,\n      dataIndex,\n      record,\n      placeholder,\n      type,\n      title\n    } = this.props;\n\n    return (\n      <Form.Item style={{ margin: 0 }}>\n        {form.getFieldDecorator(dataIndex, {\n          rules: [\n            {\n              required: true,\n              message: `${title} is required`\n            }\n          ],\n          initialValue: record[dataIndex]\n        })(\n          type === 'number' ? (\n            <InputNumber\n              id={title}\n              className=\"input\"\n              ref={(node) => (this.input = node)}\n              placeholder={placeholder}\n              type={type}\n              onChange={this.change}\n              disabled={!editable}\n            />\n          ) : (\n            <TextArea\n              id={title}\n              className=\"input\"\n              ref={(node) => (this.input = node)}\n              placeholder={placeholder}\n              autoSize={{ minRows: 3, maxRows: 5 }}\n              onChange={this.change}\n              disabled={!editable}\n            />\n          )\n        )}\n      </Form.Item>\n    );\n  };\n\n  render() {\n    const {\n      editable,\n      dataIndex,\n      title,\n      record,\n      index,\n      handleChange,\n      children,\n      action,\n      ...restProps\n    } = this.props;\n\n    return (\n      <td {...restProps}>\n        {action ? (\n          children\n        ) : (\n          <EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\n        )}\n      </td>\n    );\n  }\n}\n\nconst DataTable = (props) => {\n  const { dataSource, handleChange, columns } = props;\n\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 });\n\n  const components = {\n    body: {\n      row: EditableFormRow,\n      cell: EditableCell\n    }\n  };\n  const columnList = columns.map((col) => {\n    return {\n      ...col,\n      onCell: (record) => ({\n        record,\n        editable: col.editable,\n        dataIndex: col.dataIndex,\n        title: col.title,\n        type: col.type,\n        action: col.action,\n        placeholder: col.placeholder,\n        handleChange\n      })\n    };\n  });\n  return (\n    <div>\n      <Table\n        components={components}\n        rowClassName={() => 'editable-row'}\n        bordered\n        dataSource={dataSource}\n        columns={columnList}\n        scroll={isDesktopOrLaptop ? { x: false } : { x: true }}\n        pagination={false}\n        style={{ marginBottom: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default DataTable;\n","export { default as DataTable } from './dataTable';\nexport { default as LazyLoad } from './lazyLoad';\n","import {\n  SAVE_DRAFT,\n  SAVE_DRAFT_SUCCESS,\n  SAVE_DRAFT_FAILED\n} from '../action.type';\n\n// import { saveDraft } from '../../services/saveDraft';\n\nexport const doSaveDraft = (data) => async (dispatch) => {\n  dispatch({\n    type: SAVE_DRAFT,\n    loading: true,\n    isDraftSaved: false,\n    draftData: data\n  });\n  try {\n    // const response = await saveDraft(data);\n    if (data) {\n      dispatch({\n        type: SAVE_DRAFT_SUCCESS,\n        isDraftSaved: true,\n        loading: false,\n        draftData: data,\n        errorMessage: {}\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: SAVE_DRAFT_FAILED,\n      isDraftSaved: false,\n      loading: false,\n      draftData: [],\n      errorMessage: {}\n    });\n  }\n};\n","import React, { Component } from 'react';\nimport {\n  Button,\n  Popconfirm,\n  Tooltip,\n  Icon\n} from 'antd';\nimport { DataTable } from '../../../../components';\n\nclass CreateOwn extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: 'KPI',\n        dataIndex: 'kpi',\n        placeholder: 'Enter KPI subject',\n        editable: true\n      },\n      {\n        title: '2020 Baseline',\n        dataIndex: 'baseline',\n        placeholder: 'Enter 2020 baseline',\n        editable: true\n      },\n      {\n        title: 'Weight (%)',\n        dataIndex: 'weight',\n        placeholder: 'Enter KPI Weight',\n        type: 'number',\n        editable: true\n      },\n      {\n        title: 'L1',\n        dataIndex: 'l1',\n        placeholder: 'Enter Level 1',\n        editable: true\n      },\n      {\n        title: 'L2',\n        dataIndex: 'l2',\n        placeholder: 'Enter Level 2',\n        editable: true\n      },\n      {\n        title: 'L3',\n        dataIndex: 'l3',\n        placeholder: 'Enter Level 3',\n        editable: true\n      },\n      {\n        title: '',\n        dataIndex: 'action',\n        action: true,\n        render: (text, record) =>\n          this.props.dataOwn.length >= 1 ? (\n            <Popconfirm\n              title=\"Sure to delete?\"\n              onConfirm={() => this.props.handleDeleteRow(record.key)}\n            >\n              <Tooltip placement=\"bottomRight\" title={'delete'}>\n                <Button>\n                  <Icon type=\"delete\" />\n                </Button>\n              </Tooltip>\n            </Popconfirm>\n          ) : null\n      }\n    ];\n  }\n\n  render() {\n    const { columns } = this;\n    const {\n      dataOwn,\n      handleAddRow,\n      handleChangeField,\n      handleSaveDraft\n    } = this.props;\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataOwn}\n          handleChange={handleChangeField}\n        />\n        <div style={{ textAlign: 'center' }}>\n          <Button onClick={handleAddRow} type=\"primary\" style={{ margin: 10 }}>\n            Add a row\n          </Button>\n          <Button onClick={handleSaveDraft} style={{ margin: 10 }}>\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CreateOwn;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"../../../../components\";\nimport { Button, Checkbox } from \"antd\";\n\nclass CascadePartner extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: \"KPI\",\n        dataIndex: \"kpi\",\n        placeholder: \"Enter KPI subject\",\n        editable: false\n      },\n      {\n        title: \"2020 Baseline\",\n        dataIndex: \"baseline\",\n        placeholder: \"Enter 2020 baseline\",\n        editable: false\n      },\n      {\n        title: \"Weight (%)\",\n        dataIndex: \"weight\",\n        placeholder: \"Enter KPI Weight\",\n        type: \"number\",\n        editable: false\n      },\n      {\n        title: \"L1\",\n        dataIndex: \"l1\",\n        placeholder: \"Enter Level 1\",\n        editable: false\n      },\n      {\n        title: \"L2\",\n        dataIndex: \"l2\",\n        placeholder: \"Enter Level 2\",\n        editable: false\n      },\n      {\n        title: \"L3\",\n        dataIndex: \"l3\",\n        placeholder: \"Enter Level 3\",\n        editable: false\n      },\n      {\n        title: \"\",\n        dataIndex: \"action\",\n        action: true,\n        render: (text, record) =>\n          this.props.dataCascadePartner.length >= 1 ? (\n            <Checkbox\n              onChange={e => this.props.handleSelectData(record)}\n              checked={this.checkStatus(record)}\n            />\n          ) : null\n      }\n    ];\n  }\n\n  checkStatus = record => {\n    const { dataSelectedCascade } = this.props;\n    const dataChecking = dataSelectedCascade.filter(item => item.key === record.key);\n    if (dataChecking.length !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  render() {\n    const { dataCascadePartner, handleSaveDraft } = this.props;\n    const { columns } = this;\n\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataCascadePartner}\n        />\n        <div style={{ textAlign: \"center\" }}>\n          <Button\n            onClick={handleSaveDraft}\n            style={{ margin: 10 }}\n          >\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CascadePartner;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"../../../../components\";\nimport { Button, Checkbox } from \"antd\";\n\nclass CascadePrevious extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: \"KPI\",\n        dataIndex: \"kpi\",\n        placeholder: \"Enter KPI subject\",\n        editable: false\n      },\n      {\n        title: \"2020 Baseline\",\n        dataIndex: \"baseline\",\n        placeholder: \"Enter 2020 baseline\",\n        editable: false\n      },\n      {\n        title: \"Weight (%)\",\n        dataIndex: \"weight\",\n        placeholder: \"Enter KPI Weight\",\n        type: \"number\",\n        editable: false\n      },\n      {\n        title: \"L1\",\n        dataIndex: \"l1\",\n        placeholder: \"Enter Level 1\",\n        editable: false\n      },\n      {\n        title: \"L2\",\n        dataIndex: \"l2\",\n        placeholder: \"Enter Level 2\",\n        editable: false\n      },\n      {\n        title: \"L3\",\n        dataIndex: \"l3\",\n        placeholder: \"Enter Level 3\",\n        editable: false\n      },\n      {\n        title: \"\",\n        dataIndex: \"action\",\n        action: true,\n        render: (text, record) =>\n          this.props.dataCascadePrevious.length >= 1 ? (\n            <Checkbox\n              onChange={e => this.props.handleSelectData(record)}\n              checked={this.checkStatus(record)}\n            />\n          ) : null\n      }\n    ];\n  }\n\n  checkStatus = record => {\n    const { dataSelectedCascade } = this.props;\n    const dataChecking = dataSelectedCascade.filter(item => item.key === record.key);\n    if (dataChecking.length !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  render() {\n    const { dataCascadePrevious, handleSaveDraft } = this.props;\n    const { columns } = this;\n\n    return (\n      <div>\n        <DataTable\n          columns={columns}\n          dataSource={dataCascadePrevious}\n        />\n        <div style={{ textAlign: \"center\" }}>\n          <Button\n            onClick={handleSaveDraft}\n            style={{ margin: 10 }}\n          >\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CascadePrevious;\n","import React, { Component } from 'react';\nimport { Tabs, Modal } from 'antd';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { doSaveDraft } from '../../../redux/actions/kpiPlanning';\nimport CreateOwn from './components/create-own';\nimport CascadePartner from './components/cascade-partner';\nimport CascadePrevious from './components/cascade-previous';\n\nconst { TabPane } = Tabs;\nconst { confirm } = Modal;\n\nclass CreateKPI extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataOwn: [\n        {\n          key: 1,\n          typeKpi: 'Self KPI',\n          kpi: '',\n          baseline: '',\n          weight: '',\n          l1: '',\n          l2: '',\n          l3: ''\n        }\n      ],\n      dataOwnId: 2,\n      cascadePrevious: false,\n      dataCascadePartner: [],\n      dataCascadePrevious: [],\n      dataSelectedCascade: []\n    };\n  }\n\n  handleSaveDraft = () => {\n    const { history, doSavingDraft } = this.props;\n    const { dataOwn, dataSelectedCascade } = this.state;\n    const dataSaving = dataOwn.concat(dataSelectedCascade);\n    confirm({\n      title: 'Are u sure?',\n      async onOk() {\n        await doSavingDraft(dataSaving);\n        history.push('/planning/kpi/draft-planning');\n      },\n      onCancel() {}\n    });\n  };\n\n  handleSelectData = (record) => {\n    const { dataSelectedCascade } = this.state;\n    const dataChecking = dataSelectedCascade.filter(\n      (item) => item.key === record.key\n    );\n    if (dataChecking.length !== 0) {\n      this.setState({\n        dataSelectedCascade: dataSelectedCascade.filter(\n          (item) => item.key !== record.key\n        )\n      });\n    } else {\n      this.setState({\n        dataSelectedCascade: [...dataSelectedCascade, record]\n      });\n    }\n  };\n\n  handleAddRow = () => {\n    const { dataOwnId, dataOwn } = this.state;\n    const newData = {\n      key: dataOwnId,\n      kpi: '',\n      baseline: '',\n      weight: '',\n      l1: '',\n      l2: '',\n      l3: ''\n    };\n    this.setState({\n      dataOwn: [...dataOwn, newData],\n      dataOwnId: dataOwnId + 1\n    });\n  };\n\n  handleDeleteRow = (key) => {\n    const dataOwn = [...this.state.dataOwn];\n    this.setState({ dataOwn: dataOwn.filter((item) => item.key !== key) });\n  };\n\n  handleChangeField = (row) => {\n    const newData = [...this.state.dataOwn];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      ...row\n    });\n    this.setState({ dataOwn: newData });\n  };\n\n  render() {\n    const {\n      cascadePrevious,\n      dataOwn,\n      dataCascadePrevious,\n      dataCascadePartner,\n      dataSelectedCascade\n    } = this.state;\n    const {\n      handleAddRow,\n      handleChangeField,\n      handleDeleteRow,\n      handleSaveDraft,\n      handleSelectData\n    } = this;\n\n    return (\n      <div>\n        <Tabs defaultActiveKey=\"1\" type=\"card\">\n          <TabPane tab=\"Creat Own KPI\" key=\"1\">\n            <CreateOwn\n              dataOwn={dataOwn}\n              handleSaveDraft={handleSaveDraft}\n              handleAddRow={handleAddRow}\n              handleChangeField={handleChangeField}\n              handleDeleteRow={handleDeleteRow}\n            />\n          </TabPane>\n          <TabPane tab=\"Cascade From Supervisor\" key=\"2\">\n            <CascadePartner\n              dataCascadePartner={dataCascadePartner}\n              dataSelectedCascade={dataSelectedCascade}\n              handleSaveDraft={handleSaveDraft}\n              handleSelectData={handleSelectData}\n            />\n          </TabPane>\n          {cascadePrevious && (\n            <TabPane tab=\"Cascade From Previous Year\" key=\"3\">\n              <CascadePrevious\n                dataCascadePrevious={dataCascadePrevious}\n                dataSelectedCascade={dataSelectedCascade}\n                handleSaveDraft={handleSaveDraft}\n                handleSelectData={handleSelectData}\n              />\n            </TabPane>\n          )}\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  draft: state.draft\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  doSavingDraft: (data) => dispatch(doSaveDraft(data))\n});\n\nconst connectToComponent = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CreateKPI);\n\nexport default withRouter(connectToComponent);\n"],"sourceRoot":""}
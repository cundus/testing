(this["webpackJsonpaxiata-portal"]=this["webpackJsonpaxiata-portal"]||[]).push([[5],{300:function(e,t,n){"use strict";var r=n(46),a=n(41),o=n(42),i=n(44),c=n(43),l=n(45),u=n(304),s=n(0),p=n.n(s),f=n(463),d=n(460),b=n(462),m=n(458),h=n(128);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=f.a.TextArea,g=p.a.createContext(),j=d.a.create()((function(e){var t=e.form,n=(e.index,Object(u.a)(e,["form","index"]));return p.a.createElement(g.Provider,{value:t},p.a.createElement("tr",n))})),E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).change=function(e){var t=n.props,r=t.record,a=t.handleChange;n.form.validateFields((function(e,t){a(v({},r,{},t))}))},n.renderCell=function(e){n.form=e;var t=n.props,r=t.editable,a=t.dataIndex,o=t.record,i=t.placeholder,c=t.type,l=t.title;return p.a.createElement(d.a.Item,{style:{margin:0}},e.getFieldDecorator(a,{rules:[{required:!0,message:"".concat(l," is required")}],initialValue:o[a]})("number"===c?p.a.createElement(b.a,{id:l,className:"input",ref:function(e){return n.input=e},placeholder:i,type:c,onChange:n.change,disabled:!r}):p.a.createElement(O,{id:l,className:"input",ref:function(e){return n.input=e},placeholder:i,autoSize:{minRows:3,maxRows:5},onChange:n.change,disabled:!r})))},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.editable,e.dataIndex,e.title,e.record,e.index,e.handleChange,e.children),n=e.action,r=Object(u.a)(e,["editable","dataIndex","title","record","index","handleChange","children","action"]);return p.a.createElement("td",r,n?t:p.a.createElement(g.Consumer,null,this.renderCell))}}]),t}(p.a.Component);t.a=function(e){var t=e.dataSource,n=e.handleChange,r=e.columns,a=Object(h.useMediaQuery)({minDeviceWidth:1224}),o={body:{row:j,cell:E}},i=r.map((function(e){return v({},e,{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,type:e.type,action:e.action,placeholder:e.placeholder,handleChange:n}}})}));return p.a.createElement("div",null,p.a.createElement(m.a,{components:o,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:i,scroll:a?{x:!1}:{x:!0},pagination:!1,style:{marginBottom:10}}))}},302:function(e,t,n){"use strict";var r=n(300);n.d(t,"a",(function(){return r.a}));n(31)},303:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},336:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n.n(a),i=n(29);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){return r.createElement(i.a,null,(function(t){var n,a=t.getPrefixCls,i=e.prefixCls,s=e.type,p=void 0===s?"horizontal":s,f=e.orientation,d=void 0===f?"center":f,b=e.className,m=e.children,h=e.dashed,y=u(e,["prefixCls","type","orientation","className","children","dashed"]),v=a("divider",i),O=d.length>0?"-".concat(d):d,g=o()(b,v,"".concat(v,"-").concat(p),(l(n={},"".concat(v,"-with-text").concat(O),m),l(n,"".concat(v,"-dashed"),!!h),n));return r.createElement("div",c({className:g},y,{role:"separator"}),m&&r.createElement("span",{className:"".concat(v,"-inner-text")},m))}))}},456:function(e,t,n){"use strict";var r=n(0),a=n(13),o=n(77),i=n(9),c=n(72),l=n(33),u=n(76),s=n(29);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e){function t(e){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=b(t).call(this,e),(n=!i||"object"!==p(i)&&"function"!==typeof i?m(a):i).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(m(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(m(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,o=a.okButtonProps,i=a.cancelButtonProps,l=a.title,u=a.cancelText,s=a.okText,p=a.okType,d=a.icon;return r.createElement("div",null,r.createElement("div",{className:"".concat(e,"-inner-content")},r.createElement("div",{className:"".concat(e,"-message")},d,r.createElement("div",{className:"".concat(e,"-message-title")},l)),r.createElement("div",{className:"".concat(e,"-buttons")},r.createElement(c.a,f({onClick:n.onCancel,size:"small"},i),u||t.cancelText),r.createElement(c.a,f({onClick:n.onConfirm,type:p,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,i=a.prefixCls,c=a.placement,s=y(a,["prefixCls","placement"]),p=t("popover",i),d=r.createElement(l.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},(function(e){return n.renderOverlay(p,e)}));return r.createElement(o.a,f({},s,{prefixCls:p,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:d,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var r=n.onVisibleChange;r&&r(e,t)}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderConfirm)}}])&&d(n.prototype,a),i&&d(n,i),t}(r.Component);v.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:r.createElement(i.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(a.polyfill)(v),t.a=v},467:function(e,t,n){"use strict";n.r(t);var r=n(46),a=n(303),o=n(7),i=n.n(o),c=n(17),l=n(41),u=n(42),s=n(44),p=n(43),f=n(45),d=n(0),b=n.n(d),m=n(296),h=n(295),y=n(336),v=n(72),O=n(35),g=n(32),j=n(456),E=n(302),C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Cascading/Self KPI",dataIndex:"typeKpi",placeholder:"Cascading/Self KPI",editable:!1},{title:"KPI Subject",dataIndex:"description",placeholder:"Enter 2019 baseline",editable:!0},{title:"2019 Baseline",dataIndex:"baseline",placeholder:"Enter 2019 baseline",editable:!0},{title:"Weight (100%)",dataIndex:"weight",placeholder:"Enter KPI Weight",type:"number",editable:!0},{title:"L1",dataIndex:"l1",placeholder:"Enter Level 1",editable:!0},{title:"L2",dataIndex:"l2",placeholder:"Enter Level 2",editable:!0},{title:"L3",dataIndex:"l3",placeholder:"Enter Level 3",editable:!0},{title:"operation",dataIndex:"operation",action:!0,render:function(e,t){return n.props.dataSource.length>=1?b.a.createElement(j.a,{title:"Sure to delete?",onConfirm:function(){return n.props.handleDelete(t.key)}},b.a.createElement(v.a,null,"Delete")):null}}],n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.columns,t=this.props,n=t.handleChange,r=t.dataSource;return b.a.createElement("div",null,b.a.createElement(E.a,{columns:e,dataSource:r,handleChange:n}))}}]),t}(d.Component);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var x=m.a.confirm,w=h.a.Text,S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).getAllData=function(){var e=n.props.kpiReducers.dataKpi,t=[];e.map((function(e){var n={key:e.id,description:e.description,baseline:e.baseline,weight:e.weight,l1:e.metrics[0].description,l2:e.metrics[1].description,l3:e.metrics[2].description};t.push(n)})),n.setState({dataSource:t})},n.handleSubmit=function(){var e=n.props.history;x({title:"Are u sure?",onOk:function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/planning/kpi/submit-planning");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onCancel:function(){}})},n.handleChange=function(e){var t=n.state.dataSource,o=Object(a.a)(t),i=o.findIndex((function(t){return e.key===t.key})),c=o[i];o.splice(i,1,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{},e)),n.setState({dataSource:o})},n.handleDelete=function(e){var t=n.state.dataSource,r=Object(a.a)(t);n.setState({dataSource:r.filter((function(t){return t.key!==e}))})},n.state={dataSource:[]},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllData()}},{key:"render",value:function(){var e=this.state.dataSource,t=this.handleChange,n=this.handleDelete,r=this.handleSubmit;return b.a.createElement("div",null,b.a.createElement("div",null,b.a.createElement(y.a,null),b.a.createElement(w,{strong:!0},"KPI Save Draft "),b.a.createElement(w,null,"This is a draft of your KPI. You can still edit these KPI(s) then submit to your superior."),b.a.createElement(y.a,null)),b.a.createElement(C,{dataSource:e,handleChange:t,handleDelete:n}),b.a.createElement("div",{style:{textAlign:"center"}},b.a.createElement(v.a,{onClick:r,type:"primary",style:{margin:10}},"Submit To Superior")))}}]),t}(d.Component),k=Object(g.b)((function(e){return{kpiReducers:e.kpiReducers}}),(function(e){return{}}))(S);t.default=Object(O.g)(k)}}]);
//# sourceMappingURL=5.98581796.chunk.js.map